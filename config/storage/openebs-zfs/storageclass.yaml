apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: nas-zfspv
  annotations:
    storageclass.kubernetes.io/is-default-class: "true"
provisioner: zfs.csi.openebs.io
allowVolumeExpansion: true
reclaimPolicy: Delete
volumeBindingMode: WaitForFirstConsumer
parameters:
  # The pool/dataset must exist on every node that might host a volume.
  # In this project we create it via the ZPool CR (Phase 1).
  poolname: "tank"

  # Create a native ZFS filesystem dataset (not a zvol formatted with ext4/xfs).
  fstype: "zfs"

  # Safe defaults; tune later.
  recordsize: "128k"
  compression: "off"
  dedup: "off"
